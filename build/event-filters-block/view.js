document.addEventListener("DOMContentLoaded",(function(){const e=document.getElementById("eventswp-filter-form");e&&e.addEventListener("submit",(function(t){t.preventDefault();const n=new FormData(e),a=n.get("event_search")||"",o=Array.from(n.getAll("event_categories[]")),r=new URLSearchParams;r.append("action","eventswp_filter_events"),r.append("search",a),r.append("categories",JSON.stringify(o)),r.append("layout",e.dataset.layout||"grid"),r.append("columns",e.dataset.columns||3);const s=document.getElementById("eventswp-results");s.innerHTML="<p>Loading...</p>",fetch(eventswp_ajax.ajax_url,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:r.toString()}).then((e=>e.json())).then((e=>{s.innerHTML=e.success?e.data.html:"<p>Error loading events.</p>"})).catch((()=>{s.innerHTML="<p>Error loading events.</p>"}))}))}));